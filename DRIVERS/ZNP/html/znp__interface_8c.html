<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Zigbee Network Processor Library: znp_interface.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>znp_interface.c File Reference</h1>
<p>Interface to the Zigbee Network Processor (e.g. CC2530ZNP).  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="znp__interface_8h.html">znp_interface.h</a>&quot;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &quot;../HAL/hal.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="znp__interface__spi_8h.html">znp_interface_spi.h</a>&quot;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5cc10df479b7d47429970ead1fb25e03"></a><!-- doxytag: member="znp_interface.c::SYS_VERSION_PAYLOAD_LEN" ref="a5cc10df479b7d47429970ead1fb25e03" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>SYS_VERSION_PAYLOAD_LEN</b>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0e9264d618572c34c0f8b542621f6eea"></a><!-- doxytag: member="znp_interface.c::SYS_RANDOM_PAYLOAD_LEN" ref="a0e9264d618572c34c0f8b542621f6eea" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>SYS_RANDOM_PAYLOAD_LEN</b>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abee6c41805f1b7385a1418aa7e38e12f"></a><!-- doxytag: member="znp_interface.c::ZB_GET_DEVICE_INFO_PAYLOAD_LEN" ref="abee6c41805f1b7385a1418aa7e38e12f" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ZB_GET_DEVICE_INFO_PAYLOAD_LEN</b>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5b97698d86319d2f11183a18a3bf348c"></a><!-- doxytag: member="znp_interface.c::SYS_GPIO_PAYLOAD_LEN" ref="a5b97698d86319d2f11183a18a3bf348c" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>SYS_GPIO_PAYLOAD_LEN</b>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a96bfab70980625d872e0cc36577f94b3"></a><!-- doxytag: member="znp_interface.c::ZB_READ_CONFIGURATION_PAYLOAD_LEN" ref="a96bfab70980625d872e0cc36577f94b3" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ZB_READ_CONFIGURATION_PAYLOAD_LEN</b>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a48b5e8df86fbcba73084e82d5c239cd7"></a><!-- doxytag: member="znp_interface.c::LENGTH_OF_LARGEST_CONFIG_PARAMETER" ref="a48b5e8df86fbcba73084e82d5c239cd7" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>LENGTH_OF_LARGEST_CONFIG_PARAMETER</b>&nbsp;&nbsp;&nbsp;17</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb90abadbca990dba144ab8fb865408e"></a><!-- doxytag: member="znp_interface.c::STATUS_FIELD" ref="aeb90abadbca990dba144ab8fb865408e" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>STATUS_FIELD</b>&nbsp;&nbsp;&nbsp;SRSP_PAYLOAD_START</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2ff562b19e32f563130bcd53f6149bf8"></a><!-- doxytag: member="znp_interface.c::CONFIG_ID_FIELD" ref="a2ff562b19e32f563130bcd53f6149bf8" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>CONFIG_ID_FIELD</b>&nbsp;&nbsp;&nbsp;SRSP_PAYLOAD_START + 1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a474d1468cacde6ca0b72e11c8db72beb"></a><!-- doxytag: member="znp_interface.c::LENGTH_FIELD" ref="a474d1468cacde6ca0b72e11c8db72beb" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>LENGTH_FIELD</b>&nbsp;&nbsp;&nbsp;SRSP_PAYLOAD_START + 2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af95d39b6212ba78ef78f001b27475d44"></a><!-- doxytag: member="znp_interface.c::START_OF_VALUE_FIELD" ref="af95d39b6212ba78ef78f001b27475d44" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>START_OF_VALUE_FIELD</b>&nbsp;&nbsp;&nbsp;SRSP_PAYLOAD_START + 3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa8a3fbcaf1cefd7048ce69fe85551c16"></a><!-- doxytag: member="znp_interface.c::WAIT_FOR_MESSAGE_TIMEOUT" ref="aa8a3fbcaf1cefd7048ce69fe85551c16" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>WAIT_FOR_MESSAGE_TIMEOUT</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aba453ba97b9c873f94c8583416bb392f"></a><!-- doxytag: member="znp_interface.c::SYS_OSAL_NV_WRITE_PAYLOAD_LEN" ref="aba453ba97b9c873f94c8583416bb392f" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>SYS_OSAL_NV_WRITE_PAYLOAD_LEN</b>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa903f1cb2e83fae10923fbe962237cd2"></a><!-- doxytag: member="znp_interface.c::SYS_OSAL_NV_READ_PAYLOAD_LEN" ref="aa903f1cb2e83fae10923fbe962237cd2" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>SYS_OSAL_NV_READ_PAYLOAD_LEN</b>&nbsp;&nbsp;&nbsp;3</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a4bf927355e61bf3bc5091dc1da94a00d">znpInit</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a9b71d12ddead211ba427e462f135e1c4">znpReset</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a482427c739eb2d04c7cfc0fc5e6d6ee7">getVersion</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a03d29678956fe6147aae66124e812916">getRandom</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a2958782a385eebade3e3aaa05bb8728d">getDeviceInformationProperty</a> (unsigned char dip)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#aaaedc7053e123e1146a47860107ae7a6">getMacAddress</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a80edfa7660414cfd5ef319b0f8fff127">getDeviceState</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a30ab36e8172ff8b71809d41bfc163352">getDeviceStateName</a> (unsigned char state)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#ad6d2614164243a9eb7d6699d9c92b4a5">getDeviceInformation</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a6856e2e1d46e29a6b392007145122d04">sysGpio</a> (unsigned char operation, unsigned char value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a74a11b28c05d4ed483f02d8f60245b65">getDeviceTypeName</a> (unsigned char deviceType)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a9e4cef7754570e301d9988b7646556ec">setZigbeeDeviceType</a> (unsigned char deviceType)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a304018755b93cefc3d521a25fdc6be84">setPanId</a> (unsigned int panId)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a66d40defbed89c6eecfc51ed5506a5de">setChannel</a> (unsigned long channelMask)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a870f59a03d50e9b2211272df3e0912c8">setStartupOptions</a> (unsigned char option)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a4c0696e8709f23619b32ce56edac5059">setCallbacks</a> (unsigned char cb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a5881d8eed30b8c90c29dc8647b73c26c">setPollRate</a> (unsigned int pollRate)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a3fb96a0a6a645dfbaad50fbdb999fdbb">getSecurityModeName</a> (unsigned char securityMode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a993250299aee88440429b1381a47a868">setSecurityMode</a> (unsigned char securityMode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a3f0264f9b5f8b3163df77a3ef9ebe7cc">setSecurityKey</a> (unsigned char *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a1f774ecfe86966479985c2cbf2df8d55">getNetworkConfigurationParameters</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a81cf225dee860b74f3ef478b521b59ee">getConfigurationParameter</a> (unsigned char configId)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a3b49f8a90c4bd8713955c571db82afc2">getResetReason</a> (unsigned char reason)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">signed int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a21e13b0ee0acd1b6dead95609c7eb487">waitForMessage</a> (unsigned int messageType, unsigned char timeoutSecs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a62a29d094d8c6edaa06226cbec93f4d5">getNvItemSize</a> (unsigned char nvItem)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#ae560e09f1b03dc572b636dd8d0d39ab7">writeNvItem</a> (unsigned char nvItem, unsigned char *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a22c1bebf0d61baf4c607a245036eff80">readNvItem</a> (unsigned char nvItem)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a1974adadd744f162517f895f48b9c452">printZnpBuf</a> ()</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface_8c.html#a9ccc00afc7b349d6a57b6cfbfee8fa77">znpBuf</a> [100]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa95942e82f7a0310ea90e05982f3cf67"></a><!-- doxytag: member="znp_interface.c::znpResult" ref="aa95942e82f7a0310ea90e05982f3cf67" args="" -->
signed int&nbsp;</td><td class="memItemRight" valign="bottom"><b>znpResult</b> = ZNP_SUCCESS</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Interface to the Zigbee Network Processor (e.g. CC2530ZNP). </p>
<p>This file contains library methods that implement the CC2530ZNP interface specification as well as error checking and return values.</p>
<p>Requires one physical interface file to be included, <a class="el" href="znp__interface__spi_8h.html" title="public methods for znp_interface_spi.c">znp_interface_spi.h</a></p>
<dl class="note"><dt><b>Note:</b></dt><dd>To output SPI transmit information, define ZNP_INTERFACE_VERBOSE. It is recommended to define this on a per-project basis. In IAR, this can be done in Project Options : C/C++ compiler : Preprocessor In the defined symbols box, add: ZNP_INTERFACE_VERBOSE</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a href="http://processors.wiki.ti.com/index.php/Tutorial_on_the_Examples">http://processors.wiki.ti.com/index.php/Tutorial_on_the_Examples</a> and <a href="http://e2e.ti.com/support/low_power_rf/default.aspx">http://e2e.ti.com/support/low_power_rf/default.aspx</a></dd></dl>
<dl class="rcs"><dt><b>Rev</b></dt><dd>715 </dd></dl>
<dl class="rcs"><dt><b>Author</b></dt><dd>dsmith </dd></dl>
<dl class="rcs"><dt><b>Date</b></dt><dd>2010-08-19 10:49:20 -0700 (Thu, 19 Aug 2010) </dd></dl>
<p>YOU ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE, NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT, NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a81cf225dee860b74f3ef478b521b59ee"></a><!-- doxytag: member="znp_interface.c::getConfigurationParameter" ref="a81cf225dee860b74f3ef478b521b59ee" args="(unsigned char configId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char* getConfigurationParameter </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>configId</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves the given configuration parameter from the ZNP. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>configId</em>&nbsp;</td><td>the configuration parameter to retrieve. See Interface Spec for list of valid config parameters. Not checked for validity. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>pointer to beginning of configuration parameter </dd></dl>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>znpResult contains the error code, or ZNP_SUCCESS if success. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>does not verify configId is a valid configId </dd>
<dd>
does not verify length returned in the SRSP matches what the length should be for that configId. </dd></dl>

</div>
</div>
<a class="anchor" id="ad6d2614164243a9eb7d6699d9c92b4a5"></a><!-- doxytag: member="znp_interface.c::getDeviceInformation" ref="ad6d2614164243a9eb7d6699d9c92b4a5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getDeviceInformation </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Displays the radio's device Information Properties. Device Information Properties include:</p>
<ul>
<li>Device State indicates whether the ZNP is on a network or not, and what type of device it is. This is a handy thing to check if things aren't operating correctly. If the device is starting as a coordinator, you'll see states of 01, 08, 08, then 09 once it has fully started.</li>
<li>MAC Address (aka IEEE Address) is a globally unique serial number for this IC.</li>
<li>Device Short Address is a network address assigned by the coordinator, similar to an IP Address in DHCP. The Coordinator always has a Short Address of 0.</li>
<li>Parent MAC Address is the IEEE Address of this device's "parent", i.e. which device was used to join the network. For a router, once joined this parent MAC address is irrelevant. This DIP will NOT be updated if the network reforms. For an end-device then this parent MAC address will always specify which router the end-device is joined to.</li>
<li>Channel is which frequency channel the device is operating on.</li>
<li>PAN ID (Personal Area Network Identifier) of the network is a unique number shared for all devices on the same network.</li>
<li>Extended PAN ID of the network is the coordinator's MAC Address.</li>
</ul>
<p>If device is not connected to a network then the Short Address fields will be 0xFEFF, the Parent MAC Address and channel will be 0, and the Extended PAN ID will be this device's MAC Address. </p>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>znpResult contains the error code, or ZNP_SUCCESS if success. </dd></dl>

</div>
</div>
<a class="anchor" id="a2958782a385eebade3e3aaa05bb8728d"></a><!-- doxytag: member="znp_interface.c::getDeviceInformationProperty" ref="a2958782a385eebade3e3aaa05bb8728d" args="(unsigned char dip)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char* getDeviceInformationProperty </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>dip</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves the specified Device Information Property (DIP) from the ZNP. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dip</em>&nbsp;</td><td>the device information property to retrieve </td></tr>
  </table>
  </dd>
</dl>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>znpResult contains the error code, or ZNP_SUCCESS if success. </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a pointer to the beginning of the DIP payload, or a pointer to indeterminate data if error. </dd></dl>

</div>
</div>
<a class="anchor" id="a80edfa7660414cfd5ef319b0f8fff127"></a><!-- doxytag: member="znp_interface.c::getDeviceState" ref="a80edfa7660414cfd5ef319b0f8fff127" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char getDeviceState </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves the device state - indicates whether it is on the network or not. </p>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>znpResult contains the error code, or ZNP_SUCCESS if success. </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the device state: DEV_HOLD, DEV_NWK_DISC, DEV_ROUTER etc. or an indeterminate value if error. </dd></dl>

</div>
</div>
<a class="anchor" id="a30ab36e8172ff8b71809d41bfc163352"></a><!-- doxytag: member="znp_interface.c::getDeviceStateName" ref="a30ab36e8172ff8b71809d41bfc163352" args="(unsigned char state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* getDeviceStateName </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>state</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves the name of the device state in a human-readable format. From API Specification. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>state</em>&nbsp;</td><td>the value for the ZDO state </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the name of the ZDO state </dd></dl>

</div>
</div>
<a class="anchor" id="a74a11b28c05d4ed483f02d8f60245b65"></a><!-- doxytag: member="znp_interface.c::getDeviceTypeName" ref="a74a11b28c05d4ed483f02d8f60245b65" args="(unsigned char deviceType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* getDeviceTypeName </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>deviceType</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves the name of the device type in a human-readable format, e.g. Coordinator, Router, or End Device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>deviceType</em>&nbsp;</td><td>the type of device </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the name of the deviceType </dd></dl>

</div>
</div>
<a class="anchor" id="aaaedc7053e123e1146a47860107ae7a6"></a><!-- doxytag: member="znp_interface.c::getMacAddress" ref="aaaedc7053e123e1146a47860107ae7a6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char* getMacAddress </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves the Media Access Controller (MAC) Address (aka Long Address, aka IEEE Address) The MAC Address is an eight byte globally unique serial number for this IC. </p>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>znpResult contains the error code, or ZNP_SUCCESS if success. </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a pointer to the beginning of the MAC address (LSB first), or a pointer to indeterminate data if error. </dd></dl>

</div>
</div>
<a class="anchor" id="a1f774ecfe86966479985c2cbf2df8d55"></a><!-- doxytag: member="znp_interface.c::getNetworkConfigurationParameters" ref="a1f774ecfe86966479985c2cbf2df8d55" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getNetworkConfigurationParameters </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Utility method to display stored network configuration parameters. These are the configuration parameters stored in NV memory and are used to initialize the ZNP. </p>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>znpResult contains the error code, or ZNP_SUCCESS if success. </dd></dl>

</div>
</div>
<a class="anchor" id="a62a29d094d8c6edaa06226cbec93f4d5"></a><!-- doxytag: member="znp_interface.c::getNvItemSize" ref="a62a29d094d8c6edaa06226cbec93f4d5" args="(unsigned char nvItem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char getNvItemSize </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>nvItem</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves the size of the selected Non-Volatile (NV) memory item. NV Items 1 through 4 are 2 bytes each; 5 &amp; 6 are 16 bytes each. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nvItem</em>&nbsp;</td><td>which Non-Volatile memory item. Must be 1-6 inclusive. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>size of the given nvItem </dd></dl>

</div>
</div>
<a class="anchor" id="a03d29678956fe6147aae66124e812916"></a><!-- doxytag: member="znp_interface.c::getRandom" ref="a03d29678956fe6147aae66124e812916" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int getRandom </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves a random number from the ZNP using SYS_RANDOM command. </p>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>znpResult contains the error code, or ZNP_SUCCESS if success. </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the random number, or indeterminate data if error. </dd></dl>

</div>
</div>
<a class="anchor" id="a3b49f8a90c4bd8713955c571db82afc2"></a><!-- doxytag: member="znp_interface.c::getResetReason" ref="a3b49f8a90c4bd8713955c571db82afc2" args="(unsigned char reason)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* getResetReason </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>reason</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Utility method for displaying nice reset reason from a SYS_RESET_IND message. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>reason</em>&nbsp;</td><td>the reset reason </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a string containing the name of the reset reason. </dd></dl>

</div>
</div>
<a class="anchor" id="a3fb96a0a6a645dfbaad50fbdb999fdbb"></a><!-- doxytag: member="znp_interface.c::getSecurityModeName" ref="a3fb96a0a6a645dfbaad50fbdb999fdbb" args="(unsigned char securityMode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* getSecurityModeName </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>securityMode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves the name of the security mode in a human-readable format. From API Specification. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the name of the securityMode </dd></dl>

</div>
</div>
<a class="anchor" id="a482427c739eb2d04c7cfc0fc5e6d6ee7"></a><!-- doxytag: member="znp_interface.c::getVersion" ref="a482427c739eb2d04c7cfc0fc5e6d6ee7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char* getVersion </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves the ZNP's version information using SYS_VERSION command. </p>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>znpResult contains the error code, or ZNP_SUCCESS if success. </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a pointer to the beginning of the version structure, or a pointer to indeterminate data if error. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>Interface Specification for order of fields </dd></dl>

</div>
</div>
<a class="anchor" id="a1974adadd744f162517f895f48b9c452"></a><!-- doxytag: member="znp_interface.c::printZnpBuf" ref="a1974adadd744f162517f895f48b9c452" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printZnpBuf </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Displays the contents of the Znp Buffer, znpBuf. Useful for debugging ZNP communications. </p>

</div>
</div>
<a class="anchor" id="a22c1bebf0d61baf4c607a245036eff80"></a><!-- doxytag: member="znp_interface.c::readNvItem" ref="a22c1bebf0d61baf4c607a245036eff80" args="(unsigned char nvItem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char* readNvItem </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>nvItem</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves the specified Non-Volatile (NV) memory item from the ZNP. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>ZNP was initialized. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nvItem</em>&nbsp;</td><td>which nvItem to write, 1 through 6 inclusive </td></tr>
  </table>
  </dd>
</dl>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>znpResult contains the error code, or ZNP_SUCCESS if success. </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a pointer to the beginning of the NV item retrieved, or a pointer to indeterminate data if error. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>does not verify the length of the returned nvItem was what we expected </dd></dl>

</div>
</div>
<a class="anchor" id="a4c0696e8709f23619b32ce56edac5059"></a><!-- doxytag: member="znp_interface.c::setCallbacks" ref="a4c0696e8709f23619b32ce56edac5059" args="(unsigned char cb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setCallbacks </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>cb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enable/Disabless callbacks on the ZNP. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cb</em>&nbsp;</td><td>must be either CALLBACKS_ENABLED or CALLBACKS_DISABLED </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd>section ZCD_NV_ZDO_DIRECT_CB in ZNP Interface Specification </dd></dl>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>znpResult contains the error code, or ZNP_SUCCESS if success. </dd></dl>

</div>
</div>
<a class="anchor" id="a66d40defbed89c6eecfc51ed5506a5de"></a><!-- doxytag: member="znp_interface.c::setChannel" ref="a66d40defbed89c6eecfc51ed5506a5de" args="(unsigned long channelMask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setChannel </td>
          <td>(</td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>channelMask</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Configures the ZNP to only join a network according to the given channel mask. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>channelMask</em>&nbsp;</td><td>bitmap of which channels to use. If channelMask = ANY_CHANNEL then the radio will join a network on any channel. Default channel after a CLEAR_CONFIG is channel 11, or (MSB first) 0x00000800. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>: if using a packet sniffer, be sure to change the channel on the packet sniffer too or else you won't see any packets. </dd></dl>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>znpResult contains the error code, or ZNP_SUCCESS if success. </dd></dl>

</div>
</div>
<a class="anchor" id="a304018755b93cefc3d521a25fdc6be84"></a><!-- doxytag: member="znp_interface.c::setPanId" ref="a304018755b93cefc3d521a25fdc6be84" args="(unsigned int panId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setPanId </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>panId</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Configures the ZNP to only join a network with the given panId. If panId = ANY_PAN then the radio will join any network. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>panId</em>&nbsp;</td><td>the PANID to join, or ANY_PAN to join any PAN </td></tr>
  </table>
  </dd>
</dl>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>znpResult contains the error code, or ZNP_SUCCESS if success. </dd></dl>

</div>
</div>
<a class="anchor" id="a5881d8eed30b8c90c29dc8647b73c26c"></a><!-- doxytag: member="znp_interface.c::setPollRate" ref="a5881d8eed30b8c90c29dc8647b73c26c" args="(unsigned int pollRate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setPollRate </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>pollRate</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the ZCD_NV_POLL_RATE, which is used by end devices and controls how often an end device polls its associated router for new data. Default is 2000 (2 seconds). Higher numbers will increase latency but reduce average power consumption. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rate</em>&nbsp;</td><td>how often (in mSec) to poll; must be between 1 to 65000, inclusive. </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd>section ZCD_NV_POLL_RATE in ZNP Interface Specification </dd></dl>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>znpResult contains the error code, or ZNP_SUCCESS if success. </dd></dl>

</div>
</div>
<a class="anchor" id="a3f0264f9b5f8b3163df77a3ef9ebe7cc"></a><!-- doxytag: member="znp_interface.c::setSecurityKey" ref="a3f0264f9b5f8b3163df77a3ef9ebe7cc" args="(unsigned char *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setSecurityKey </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>key</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Loads the specified key into the ZNP. Does not change security mode, need to use <a class="el" href="znp__interface_8c.html#a993250299aee88440429b1381a47a868">setSecurityMode()</a> too. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>if NOT using pre-configured keys then the coordinator will distribute its key to all devices. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>preConfiguredKey a 16B key to use </td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd><a class="el" href="znp__interface_8c.html#a993250299aee88440429b1381a47a868">setSecurityMode()</a> called </dd></dl>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>znpResult contains the error code, or ZNP_SUCCESS if success. </dd></dl>

</div>
</div>
<a class="anchor" id="a993250299aee88440429b1381a47a868"></a><!-- doxytag: member="znp_interface.c::setSecurityMode" ref="a993250299aee88440429b1381a47a868" args="(unsigned char securityMode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setSecurityMode </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>securityMode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Configures the ZNP for the specified security mode. If securityMode = SECURITY_MODE_OFF then only ZCD_NV_SECURITY_MODE is written. Otherwise ZCD_NV_SECURITY_MODE and ZCD_NV_PRECFGKEYS_ENABLE are written. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>if NOT using pre-configured keys then the coordinator will distribute its key to all devices. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>securityMode</em>&nbsp;</td><td>SECURITY_MODE_OFF or SECURITY_MODE_PRECONFIGURED_KEYS or SECURITY_MODE_COORD_DIST_KEYS </td></tr>
  </table>
  </dd>
</dl>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>znpResult contains the error code, or ZNP_SUCCESS if success. </dd></dl>

</div>
</div>
<a class="anchor" id="a870f59a03d50e9b2211272df3e0912c8"></a><!-- doxytag: member="znp_interface.c::setStartupOptions" ref="a870f59a03d50e9b2211272df3e0912c8" args="(unsigned char option)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setStartupOptions </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>option</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Configures startup options on the ZNP. These will reset various parameters back to their factory defaults. The radio supports two types of clearing state, and both are supported:</p>
<ul>
<li>STARTOPT_CLEAR_CONFIG restores all settings to factory defaults. Must restart the ZNP after using this option.</li>
<li>STARTOPT_CLEAR_STATE only clears network settings (PAN ID, channel, etc.) <dl class="note"><dt><b>Note:</b></dt><dd>all ZB_WRITE_CONFIGURATION commands take approx. 3.5mSec between SREQ &amp; SRSP; presumably to write to flash inside the CC2530ZNP. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>option</em>&nbsp;</td><td>which options to set. Must be zero, STARTOPT_CLEAR_CONFIG, or STARTOPT_CLEAR_STATE. </td></tr>
  </table>
  </dd>
</dl>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>znpResult contains the error code, or ZNP_SUCCESS if success. </dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a9e4cef7754570e301d9988b7646556ec"></a><!-- doxytag: member="znp_interface.c::setZigbeeDeviceType" ref="a9e4cef7754570e301d9988b7646556ec" args="(unsigned char deviceType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setZigbeeDeviceType </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>deviceType</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the Zigbee Device Type for the ZNP. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>deviceType</em>&nbsp;</td><td>the type of Zigbee device. Must be COORDINATOR, ROUTER, or END_DEVICE </td></tr>
  </table>
  </dd>
</dl>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>znpResult contains the error code, or ZNP_SUCCESS if success. </dd></dl>

</div>
</div>
<a class="anchor" id="a6856e2e1d46e29a6b392007145122d04"></a><!-- doxytag: member="znp_interface.c::sysGpio" ref="a6856e2e1d46e29a6b392007145122d04" args="(unsigned char operation, unsigned char value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char sysGpio </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Performs the specified General Purpose Input/Output (GPIO) operation. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>operation</em>&nbsp;</td><td>which GPIO operation to do: GPIO_SET_DIRECTION, GPIO_SET_INPUT_MODE, GPIO_SET, GPIO_CLEAR, GPIO_TOGGLE, GPIO_READ </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>the value to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the value returned by the ZNP if operation = GPIO_READ; indeterminate value otherwise </dd></dl>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>znpResult contains the error code, or ZNP_SUCCESS if success. </dd></dl>

</div>
</div>
<a class="anchor" id="a21e13b0ee0acd1b6dead95609c7eb487"></a><!-- doxytag: member="znp_interface.c::waitForMessage" ref="a21e13b0ee0acd1b6dead95609c7eb487" args="(unsigned int messageType, unsigned char timeoutSecs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">signed int waitForMessage </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>messageType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>timeoutSecs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Waits for the specified type of message. Silently discards any other messages received. Received message will be in znpBuf[]. If the specified type of message isn't received then returns error code. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if success, -21 if timeout, -31 if received a message but it wasn't the type we're expecting. </dd></dl>

</div>
</div>
<a class="anchor" id="ae560e09f1b03dc572b636dd8d0d39ab7"></a><!-- doxytag: member="znp_interface.c::writeNvItem" ref="ae560e09f1b03dc572b636dd8d0d39ab7" args="(unsigned char nvItem, unsigned char *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writeNvItem </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>nvItem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Writes the specified Non-Volatile (NV) memory item to the ZNP. The contents of the selected nvItem will be overwritten from memory starting at data. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>ZNP was initialized. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nvItem</em>&nbsp;</td><td>which nvItem to write, 1 through 6 inclusive </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>the data to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>znpResult contains the error code, or ZNP_SUCCESS if success. </dd></dl>

</div>
</div>
<a class="anchor" id="a4bf927355e61bf3bc5091dc1da94a00d"></a><!-- doxytag: member="znp_interface.c::znpInit" ref="a4bf927355e61bf3bc5091dc1da94a00d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char* znpInit </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes the hardware interface to the ZNP (SPI). This method must be called before any other method in the library. </p>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>znpResult contains the error code, or ZNP_SUCCESS if success. </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a pointer to the beginning of the version structure, or a pointer to indeterminate data if error. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>Interface Specification for order of fields </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>modify this if using UART </dd></dl>

</div>
</div>
<a class="anchor" id="a9b71d12ddead211ba427e462f135e1c4"></a><!-- doxytag: member="znp_interface.c::znpReset" ref="a9b71d12ddead211ba427e462f135e1c4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char* znpReset </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Resets the ZNP using hardware and retrieves the SYS_RESET_IND message. This method is used to restart the ZNP's internal state machine and apply changes to startup options, zigbee device type, etc. </p>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>znpResult contains the error code, or ZNP_SUCCESS if success. </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a pointer to the beginning of the version structure, or a pointer to indeterminate data if error. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>Interface Specification for order of fields </dd></dl>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a9ccc00afc7b349d6a57b6cfbfee8fa77"></a><!-- doxytag: member="znp_interface.c::znpBuf" ref="a9ccc00afc7b349d6a57b6cfbfee8fa77" args="[100]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char <a class="el" href="znp__util__interface_8c.html#a9ccc00afc7b349d6a57b6cfbfee8fa77">znpBuf</a>[100]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This buffer will hold the transmitted messages and received SRSP Payload after <a class="el" href="znp__interface__spi_8c.html#a95eb4d68729b1c13e4024d276b016e88">sendMessage()</a> was called. </p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Aug 19 11:47:25 2010 for Zigbee Network Processor Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
